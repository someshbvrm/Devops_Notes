
---

# 🐳 Docker Components

Docker is made up of multiple components that work together to build, ship, and run containers. Here's an overview:

* **Docker Daemon / Engine** 🛠️
  The background service running on the host. It manages images, containers, networks, and volumes.

* **Docker CLI** 💻
  Command-line interface to interact with Docker daemon.

* **Docker Network** 🌐
  Handles communication between containers.

* **Docker Volumes** 💾
  Provides persistent storage for containerized applications.

* **Dockerfile** 📝
  Define instructions to create **custom Docker images**.

* **Docker Compose / Stack** 🏗️
  Tool to define and run **multi-container applications** using `docker-compose.yaml`.

* **Docker Machine** ☁️
  Creates Docker hosts on cloud providers like **AWS**, **Azure**, etc.

* **Docker Swarm** ⚡
  Native clustering & orchestration tool for Docker.

* **Docker Services** 🔹
  Deploy scalable services in a Swarm.

* **Docker Stack** 📦
  Deploy multiple services defined in a Compose file to Swarm.

* **Registries:**

  * **Docker Hub** 🌐
  * **DTR (Docker Trusted Registry)** 🔒
  * **ECR (AWS Elastic Container Registry)** ☁️

---

# 🏗️ Docker Compose

Docker Compose allows you to define and run **multi-container applications** with a single YAML file.

> Check sample example: [Awesome Compose: WordPress + MySQL](https://github.com/docker/awesome-compose/tree/master/wordpress-mysql)

---

### Sample `docker-compose.yaml`

```yaml
version: '3.8'

services:
  db:
    image: mariadb:10.6.4-focal   # Use MySQL if preferred
    command: '--default-authentication-plugin=mysql_native_password'
    volumes:
      - db_data:/var/lib/mysql
    restart: always
    environment:
      - MYSQL_ROOT_PASSWORD=somewordpress
      - MYSQL_DATABASE=wordpress
      - MYSQL_USER=wordpress
      - MYSQL_PASSWORD=wordpress
    expose:
      - 3306
      - 33060

  wordpress:
    image: wordpress:latest
    ports:
      - 80:80
    restart: always
    environment:
      - WORDPRESS_DB_HOST=db
      - WORDPRESS_DB_USER=wordpress
      - WORDPRESS_DB_PASSWORD=wordpress
      - WORDPRESS_DB_NAME=wordpress

volumes:
  db_data:
```

---

### 🚀 Docker Compose Commands

| Command                | Description                                                         |
| ---------------------- | ------------------------------------------------------------------- |
| `docker-compose up`    | Creates and starts **all containers** defined in the YAML file      |
| `docker-compose up -d` | Starts containers in **detached mode** (background)                 |
| `docker-compose down`  | Stops and removes **all containers**, networks, and default volumes |

---

### 💡 Notes & Best Practices

* Always use **volumes** for persistent data (`db_data:/var/lib/mysql`)
* Keep **ports unique** to avoid conflicts between services
* Use **detached mode** for production-like scenarios
* Use `docker-compose logs -f` to follow container logs
* Docker Compose is **ideal for development & testing**, while Swarm/Stack is better for production orchestration

---
