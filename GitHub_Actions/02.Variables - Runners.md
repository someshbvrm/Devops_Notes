
---

# üìù Using Variables in GitHub Actions

Variables allow you to **store values and reuse them** across workflows, jobs, or steps.

---

## 1Ô∏è‚É£ **Variables for a Single Workflow**

* Define variables using the `env` key in your workflow YAML file.
* Scope can be:

### üîπ Workflow-Level

```yaml
name: Demo Workflow

on: push

env:
  APP_NAME: "my-app"
  DEPLOY_ENV: "staging"

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - run: echo "Building $APP_NAME in $DEPLOY_ENV environment"
```

### üîπ Job-Level

```yaml
jobs:
  build:
    runs-on: ubuntu-latest
    env:
      BUILD_TOOL: "maven"
    steps:
      - run: echo "Using $BUILD_TOOL to build the project"
```

### üîπ Step-Level

```yaml
steps:
  - name: Print message
    env:
      MESSAGE: "Hello GitHub Actions!"
    run: echo $MESSAGE
```

---

## 2Ô∏è‚É£ **Configuration Variables for Multiple Workflows**

* Can be defined at:

  * **Repository Level** ‚Üí Settings ‚Üí Variables
  * **Organization Level** ‚Üí Organization ‚Üí Settings ‚Üí Actions ‚Üí Variables
  * **Environment Level** ‚Üí Used for production, staging, etc.
* Example usage in workflow:

```yaml
env:
  GLOBAL_API_URL: ${{ vars.API_URL }}
```

---

## 3Ô∏è‚É£ **Context Variables from GitHub Metadata**

* Contexts provide access to information about workflow runs, jobs, steps, and the runner environment.
* Common contexts:

  * `github` ‚Üí info about repository, actor, event
  * `env` ‚Üí environment variables
  * `jobs` ‚Üí outputs from other jobs
  * `runner` ‚Üí OS, architecture, name
* Example:

```yaml
steps:
  - run: echo "Workflow triggered by ${{ github.actor }} on ${{ github.repository }}"
```

üìñ [GitHub Context Documentation](https://docs.github.com/en/actions/learn-github-actions/contexts#github-context)

---

## 4Ô∏è‚É£ **Input for Manually Triggered Workflows**

* Trigger workflows manually using `workflow_dispatch`.
* Can pass **inputs** to customize the workflow run:

```yaml
on:
  workflow_dispatch:
    inputs:
      environment:
        description: "Target environment"
        required: true
        default: "staging"
```

```yaml
steps:
  - run: echo "Deploying to ${{ github.event.inputs.environment }}"
```

---

# üñ•Ô∏è GitHub Actions Runners

A **runner** is a server that executes jobs in a workflow.

---

## 1Ô∏è‚É£ **Types of Runners**

| Feature          | GitHub-Hosted Runner   | Self-Hosted Runner                   |
| ---------------- | ---------------------- | ------------------------------------ |
| Management       | Managed by GitHub      | Managed by you                       |
| OS Options       | Ubuntu, Windows, macOS | Any OS you install                   |
| Maintenance      | Automatic updates      | Manual updates                       |
| Cost             | Free minutes, then pay | Free, but you pay for infrastructure |
| Environment      | Clean instance per job | Persistent environment               |
| Customization    | Limited                | Full control                         |
| Security Updates | Handled by GitHub      | Your responsibility                  |
| Installation     | Pre-installed tools    | Installed manually                   |

---

## 2Ô∏è‚É£ **GitHub-Hosted Runner Usage Limits**

* **Job execution time:** 6 hours max per job
* **Workflow run time:** 35 days max
* **API requests:** 1,000 requests/hour per repo
* **Concurrent jobs:** Varies by plan

| GitHub Plan | Total Jobs | Max macOS Jobs |
| ----------- | ---------- | -------------- |
| Free        | 20         | 5              |
| Pro         | 40         | 5              |
| Team        | 60         | 5              |
| Enterprise  | 500        | 50             |

---

## 3Ô∏è‚É£ **Self-Hosted Runner Usage Limits**

* **Job execution time:** 5 days max per job
* **Workflow run time:** 35 days max
* **Job queue time:** 24‚Äì48 hours
* **API requests:** 1,000/hour per repository
* **Job matrix:** Max 256 jobs per workflow run
* **Workflow queue:** Max 500 runs/10 seconds per repo
* **Runner registration:** Max 10,000 runner groups

üí° Notes:

* Exceeding time limits terminates the job/workflow.
* Exceeding API limits can cause job failures.
* Self-hosted runners allow **longer execution times** but require **manual maintenance**.

---

## 4Ô∏è‚É£ **Best Practices for Variables & Runners**

* **Use secrets for sensitive data** (API keys, tokens).
* **Scope variables appropriately** (workflow/job/step).
* **Pin runner versions** for reproducibility.
* **Use self-hosted runners** for longer jobs or custom environments.
* **Limit environment exposure** in public repos to avoid leaking secrets.

---
