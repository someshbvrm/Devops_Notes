
---

# üöÄ GitHub Actions Self-Hosted Runner Setup on AWS EC2

---

## Step 1Ô∏è‚É£: Launch EC2 Instance

* **OS:** Ubuntu 22.04 LTS (Free Tier eligible)
* **Instance Type:** t2.micro or larger
* **Security Group:**

  * Allow **SSH (port 22)**
  * Allow **HTTPS outbound (port 443)** for GitHub connection

üí° **Tip:** Use a key pair you have access to for SSH login.

---

## Step 2Ô∏è‚É£: Connect to EC2 via SSH

```bash
ssh -i "your-key.pem" ubuntu@<EC2_PUBLIC_IP>
```

---

## Step 3Ô∏è‚É£: Install Dependencies

```bash
sudo apt update -y
sudo apt install -y curl unzip
```

---

## Step 4Ô∏è‚É£: Download & Configure Runner

### 1Ô∏è‚É£ Create Directory & Download Runner

```bash
mkdir actions-runner && cd actions-runner

# Download latest stable runner
curl -o actions-runner-linux-x64-2.311.0.tar.gz -L \
https://github.com/actions/runner/releases/download/v2.311.0/actions-runner-linux-x64-2.311.0.tar.gz

# Extract the archive
tar xzf actions-runner-linux-x64-2.311.0.tar.gz
```

### 2Ô∏è‚É£ Configure Runner

* Generate a **runner token** in GitHub:

  * Go to your repository ‚Üí **Settings ‚Üí Actions ‚Üí Runners ‚Üí New self-hosted runner**
* Run configuration script:

```bash
./config.sh --url https://github.com/<your-username>/<your-repo> --token YOUR_RUNNER_TOKEN
```

üí° **Tip:** Save the token temporarily. It expires quickly, so configure immediately.

---

## Step 5Ô∏è‚É£: Install Runner as a Service

```bash
# Install the runner as a systemd service
sudo ./svc.sh install

# Start the service
sudo ./svc.sh start
```

* The runner will automatically **start on boot** and **auto-update**.

---

## Step 6Ô∏è‚É£: Verify Runner in GitHub

* Go to **Repo ‚Üí Settings ‚Üí Actions ‚Üí Runners**
* You should see the runner with **"Idle"** status

---

## ‚ö° Important Notes & Commands

| Action           | Command / Info                          |
| ---------------- | --------------------------------------- |
| Runner Directory | `/home/ubuntu/actions-runner`           |
| Runner Logs      | `./diag/Runner_*.log`                   |
| Restart Runner   | `sudo ./svc.sh restart`                 |
| Remove Runner    | `./config.sh remove --token YOUR_TOKEN` |
| Auto-Update      | Enabled by default                      |

---

## üõ†Ô∏è Troubleshooting Tips

1. **Jobs not picked up**

   * Check logs: `./diag/Runner_*.log`
   * Restart runner: `sudo ./svc.sh restart`

2. **Connectivity Issues**

   * Ensure EC2 can reach `https://github.com` on port 443
   * Check Security Group and firewall settings

3. **Token Expired**

   * Generate a new token in GitHub repository settings

---

## ‚úÖ Optional Enhancements

* **Persistent Environment:** Install Docker, Java, Maven, or other tools needed for CI jobs.
* **Multiple Repositories:** Configure a runner to serve multiple repositories by generating additional tokens.
* **Monitoring:** Use systemd logs (`journalctl -u actions.runner.<your-service>.service`) for monitoring runner health.

---
