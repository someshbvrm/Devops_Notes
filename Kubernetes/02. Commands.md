
---

# 📦 Kubernetes Namespace & Pods Cheat Sheet

---

## 🗂️ What is a Namespace?

A **namespace** in Kubernetes is used to **divide cluster resources** between multiple users or teams, providing isolation for resources like **pods, services, and deployments** within the same cluster.

---

## 📑 Default Namespaces

* 🌐 **default** → Where objects are created if no namespace is specified
* ⚙️ **kube-system** → Contains system components (API server, DNS, etc.)
* 📖 **kube-public** → Publicly readable data (e.g., cluster info)
* 🖥️ **kube-node-lease** → Stores node heartbeat info

---

## 🛠️ Creating & Managing Namespaces

🔹 **Create namespaces**

```bash
kubectl create namespace item-dev
kubectl create namespace item-prod
kubectl create namespace item-qa
```

🔹 **List all namespaces**

```bash
kubectl get namespace
```

🔹 **Create/Update namespace using YAML**

```yaml
# namespace.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: dev
```

```bash
kubectl apply -f namespace.yaml
```

🔹 **Delete namespace**

```bash
kubectl delete namespace dev
kubectl delete -f namespace.yaml
```

---

## 🚀 Working with Pods in Namespaces

🔹 **Create pod in default namespace**

```bash
kubectl run nginx --image=nginx
```

🔹 **Create pod in specific namespace**

```bash
kubectl run nginx --image=nginx --namespace=item-dev
```

🔹 **List pods in default namespace**

```bash
kubectl get pods
```

🔹 **List pods in a specific namespace**

```bash
kubectl get pods --namespace=item-qa
```

---

## 📦 Pod Example (Single Container)

```yaml
# simple-pod.yaml
apiVersion: v1
kind: Pod
metadata:
  name: nginx-pod
spec:
  containers:
  - name: nginx
    image: nginx:1.14.2
    ports:
    - containerPort: 80
```

👉 Or via command:

```bash
kubectl run nginx-pod --image=nginx:1.14.2
```

---

## ⚡ Pods in Kubernetes

Pods are used in **two main ways**:
1️⃣ **Single-container Pods** → One container per Pod (most common).

* Think of it as a *wrapper* around a single container.
  2️⃣ **Multi-container Pods** → Multiple containers working together.
* Example:

  * Container A → Serves files to the public.
  * Container B (sidecar) → Updates or refreshes files.

---

## 🔗 Pod with Multiple Containers

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: multi-container-pod
  namespace: dev
spec:
  containers:
  - name: nginx-container
    image: nginx:latest
    ports:
    - containerPort: 80
  - name: busybox-container
    image: busybox:latest
    command: ["sh", "-c", "while true; do echo Hello from BusyBox; sleep 5; done"]
```

---

⚡ **Quick Recap**:

* 🗂️ **Namespaces** → Logical isolation of resources.
* 📦 **Pods** → Smallest deployable unit in Kubernetes.
* 🔗 **Multi-container Pods** → Useful when containers must share resources & work as one unit.

---
